{"version":3,"file":"contact-scripts.js","names":["$","require","overlayVideo","phoneConvert","encode","document","ready","text","options","each","i","val","elem","append","emailIsValid","email","test","on","e","replace","error","addClass","prev","find","show","preventDefault","name","phone","purpose","message","hide","removeClass","dataObj","ajax","method","url","data","success","console","log","err"],"sources":["../contact-scripts.js"],"sourcesContent":["var $ = require('jquery');\r\nvar overlayVideo = require('./overlay-video.js');\r\nvar phoneConvert = require('./phone.js');\r\nvar encode = require('html-entities');\r\n\r\n// console.log(encode);\r\n// console.log(encode.encode('< > \" \\' & © ∆'));\r\n\r\n$(document).ready(function () {\r\n\r\n    $('title').text(\"Franco Finn | Contact | Golden State Warriors Hype-Man | San Francisco\");\r\n\r\n    // console.log(overlayVideo.overlayVideo);\r\n    overlayVideo.overlayVideo('../')\r\n\r\n    // console.log(process.env);\r\n\r\n    var options = [\r\n        `auctioneer`,\r\n        `wedding`,\r\n        `dj`,\r\n        `host`,\r\n        `other`,\r\n    ]\r\n\r\n    $(options).each(function (i, val) {\r\n        // console.log(i, val);\r\n        var elem = ` <option value=\"${val}\">${val}</option>`;\r\n        $(`select`).append(elem);\r\n    });\r\n\r\n    function emailIsValid(email) {\r\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n    }\r\n\r\n    $('form input[name=\"phone\"]').on('input', function (e) {\r\n        $(this).val($(this).val().replace(/[^0-9]/g, ''));\r\n    });\r\n\r\n    var error = function (elem) {\r\n        $(elem).addClass('required');\r\n        $(elem).prev().find('span').show();\r\n    };\r\n\r\n    $('form').on('submit', function (e) {\r\n        e.preventDefault();\r\n\r\n        var name = $('input[name=\"name\"]');\r\n        var email = $('input[name=\"email\"]');\r\n        var phone = $('input[name=\"phone\"]');\r\n        var purpose = $('select');\r\n        var message = $('textarea');\r\n\r\n        // console.log(name, email, phone, $(purpose).val(), $(message).val());\r\n\r\n        $('.error').hide();\r\n        $('input, select, textarea').removeClass('required');\r\n\r\n        if (name !== \"\" && email !== \"\") {\r\n            if (emailIsValid($(email).val())) {\r\n                if ($(purpose).val() !== \"please select\") {\r\n                    if ($(message).val() !== \"\" && $(message).val() !== '                    ') {\r\n\r\n                        //sanitize\r\n                        name = encode.encode($(name).val());\r\n                        email = encode.encode($(email).val());\r\n                        phone = encode.encode($(phone).val());\r\n                        purpose = encode.encode($(purpose).val());\r\n                        message = encode.encode($(message).val());\r\n\r\n                        // console.log(`email good to go: ${name}, ${email}, ${phone}, ${purpose}, ${message}`);\r\n\r\n                        var dataObj = {\r\n                            name: name,\r\n                            email: email,\r\n                            phone: phone,\r\n                            purpose: purpose,\r\n                            message: message\r\n                        }\r\n\r\n                        // console.log(dataObj);\r\n\r\n                        $.ajax({\r\n                            method: \"POST\",\r\n                            url: \"https://davidtproductions.com/franco/franco/php/contact-scripts.php\",\r\n                            data: dataObj,\r\n                            success: function(data){\r\n                                console.log(`it worked`)\r\n                                console.log(data);\r\n                                if(data == `success`){\r\n                                    $('form').hide();\r\n                                    $('.c2').addClass('align');\r\n                                    $('.confirmation').show();\r\n                                }\r\n                            },\r\n                            error: function(err){\r\n                                console.log(`it didn't work`);\r\n                                console.log(err)\r\n                            }\r\n                        })\r\n\r\n                        // $(this).trigger('submit')\r\n                        // console.log(e.submit());\r\n\r\n                    } else {\r\n                        error(message);\r\n                    }\r\n                } else {\r\n                    error(purpose);\r\n                }\r\n            } else {\r\n                console.log(`email not valid`);\r\n                error(email);\r\n            }\r\n        } else {\r\n            error(name);\r\n            error(email);\r\n        }\r\n    });\r\n\r\n});"],"mappings":"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","ignoreList":[]}